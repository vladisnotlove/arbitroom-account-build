# CHANGELOG

## [10.1.0]

### Измененно

- На странице Bridg Promo:
  - Изменен блок с условиями
  - Добавлен блок "Мой путь в Promo"
  - Добавлен попап "Моя награда"
  - Добавлен попап "Добавить Оборот в Extra PROMO"

## [10.0.0]

### Добавлено

- Страница Bridg Promo

### Измененно

- Убраны hash-ы у css и js
- Переделано меню навигации

## [9.9.4]

### Изменено

- Небольшие исправления

## [9.9.3]

### Изменено

- Небольшие исправления

## [9.9.2]

### Добавлено

- Добавлена пометка с блокировкой в select-е, в попапе с фильтра арбитражей
- Добавлен заблокированный вариант карточки с арбитражем

### Изменено

- Убран column в списке с карточками арбитража
- Заменен toggle-button-group на select на странице "Арбитражные ситуации"

## [9.9.1]

### Изменено

- Исправлен баг: нет скрола у условий в странице credit

## [9.9.0]

### Добавлено

- Добавлены страница Кредитование

## [9.8.0]

### Добавлено

- Добавлены страница Аналитика по арбитражу

## [9.7.0]

### Добавлено

- Добавлены страницы арбитраж:
  - Внутребиржевой
  - Межбиржевой
  - Мультиберживой

## [9.6.1]

### Добавлено

- Добавлен выбор emoji в чатах

### Изменено

- Убран блок с контактами в странице чат
- Страница contacts переименована в chat
- Порядок в боковом меню переделан
- Мелкие правки

## [9.6.0]

### Добавлено

- Полностью переделана страница contacts

### Изменено

- Переделаны стили для чата в странице structure

## [9.5.0]

### Добавлено

- Добавлена страница info

### Изменено

- Исправлены стили для .media-viewer под мобильные устройства

## [9.4.2]

### Изменено

- Сделал zoom более отзывчивым на мобильных устройствах

## [9.4.1]

### Изменено

- Улучшил производительность карты с сотами
- Исправил баг: все время срабатывает клик на карте на мобильных устройствах
- Сделал блок "информация" выбранным по умолчанию

## [9.4.0]

### Добавлено

- Добавлена страница "Стурктура"
  - В ней есть три iframe:
    - Чат ./structure-partner-chat
    - Делатали ./structure-partner-details
    - Карта с партнерами ./structure-partners
  - Хексагоны строятся на основе dataset, который передается в ".hexagon-partners" в data-dataset и имеет следующий вид:
  ```typescript
  [{
      id: number,
      content: {
          pretitle: string
          status: string,
          name: string,
          turn: string,
          turnLabel: string,
      },
      theme: "A1" | "A2" | "A3" | "B1" | "B1-F" | "B2" | "B2-F" |
      "B3" | "B3-F" | "C1" | "C1-F" | "C2" | "C2-F" | "C3" |
      "C3-F" | "D1" | "D2" | "D3" | "none" | "base",
      backgroundSrc: string | undefined,
      partnerDetailsUrl: string,
  }]
  ```
  - На странице есть временный скрипт, который сделан для демо и на проде его надо удалить или доработать

### Изменено

- Исправил баг: в новых страницах на мобильных экранах отображается переключатель языка в заголовке

## [9.3.2]

### Изменено

- Исправлен баг на странице "Статус"

## [9.3.1]

### Изменено

- Небольшой рефактор,
- Обновил библиотеку astro

## [9.3.0]

### Добавлено

- Страница "Личные партнеры"

### Изменено

- Убрана старая страница "Партнеры"
- Пункты в меню: "Статусы", "Личные партнеры", "Партнерские материалы", объединены в выпадающий список "Партнерам"
- common.js переименовал в legacy.js

## [9.2.1]

### Изменено

- Правки на странице "Статусы":
  - Добавил все статусы
  - Поправил стили статусов

## [9.2.0]

### Добавлено

- Страница "Статус"

### Изменено

- Исправлен баг: способы вывода не переключаются
- На странице "копилка" заменен скрипт со всей логика сайна на отдельный скрипт только с нужной логикой

## [9.1.2]

### Изменено

- Вернул старую версию promo

## [9.1.1]

### Добавлено

- Стили для красной стрелки фонда
- Кнопка "Дорожная карта" и отступ снизу В боковом меню

### Изменено

- Убран скрипт для progressbar-а

## [9.1.0]

### Добавлено

- Добавил страницу "Стабилизационный фонд"
  - Графики построенны с помощью Chart.js
  - Данные для графика распределения передаются через data-values. Формат: [{name: string, color: string, percent: number}]
  - Данные для графика средств передаются через data-dataset. Формат:
    [{x: string, y: number}]

## [9.0.0]

### Добавлено

- Добавил страницу "Арбитражные возможности Bitcoin"

### Изменено

- Заменил "build\<version\>.js" на "common-\<hash\>.js"

## [8.1.0]

### Добавлено

- Добавил страницу "Promo Enigma"

## [8.0.0]

### Добавлено

- Добавил страницу "Копилка"

### Изменено

- Структура assets (пока только для новых страниц):
  - Теперь у страницы есть общий css "common.css" и специальный на страницу "pages/page-name.css"
  - У новых сss файлов появлился hash. Пример: "common-25e30bf9100a.css"

## [7.5.0]

### Добавлено

- На странице "Настройки" добавлен блок с настройками уведомлений от бота

### Изменено

- На странице "Главная":
  - Изменен баннер
  - Убран блок партнеры
- На странице "Презентации" теперь открывается ютуб плеер

## [7.4.0]

### Изменено

- График на главной изменен

## [7.3.0]

### Изменено

- Изменена библиотека для видеоплеера с video.js на playerjs

## [7.2.0]

### Изменено

- Изменил фоны в странице с обучением

## [7.1.0]

### Добавлено

- Страница с презентациями

## [7.0.1]

### Изменено

- Исправлен баг: Не открывается просмотр фото
- Модалки теперь закрываются только по нажатию на крестик
- Упрощена логика формы с покупкой билетов.
  ВАЖНО: у формы с id "buy-ticket-form" должны быть аттрибуты
  - _data-max-tickets_
  - _data-max-tickets-message_
- В css исправлены пути в ulr() для .tooltip

## [7.0.0]

### Добавлено

- Элементы связанные с покупкой билета. ВАЖНЫЙ момент, чтобы у кнопкок ".event**buy" и ".event-card**buy" был data-price, а внутри был элемент template с ".event-ticket"

### Изменено

- Все пути до разных ресурсов сделаны относительными
- В css немного измененн порядок некоторых классов

## [6.1.0]

### Добавлено

- Баннер с промо
- Слайдер с банерами событий

### Изменено

- Перемещен выбор языка в боковом меню для мобильных устройств

## [6.0.0]

### Добавлено

- Вкладка "Мероприятия"
- Страница с одним мероприятием (4 примера такой страницы)
- _ВАЖНО_: media-viewer, с помощью которого можно просматривать все `img` елементы с атрибутом `data-viewable`. Такие элементы можно добавлять динамически после загрузки страницы, они тоже будут просматриваться.
- _ВАЖНО_: Добавил точку у вкладки. Чтобы она отобразилась, надо элементу с классом `tab` добавить класс `new`

### Изменено

- _ВАЖНО_: Оптимизировал bundle.js
  - Убрал jquery и video.js из bundle. Теперь они скачиваются отдельными скриптами (их можно найти в html под комментарием _vendor_)
  - Убрал chart.js из bundle
- _ВАЖНО_: Поменял структуру проекта:
  - Перенес все файлы связанные с версткой в `/_layout-assets`. Следовательно, поменял ссылки в html c `img/` на `_layout-assets/img/` и тоже самое для css и js
  - Все ссылки сделал абсолютными. Вместо `src="_layout-assets/...` теперь `src="/_layout-assets/...`
  - Разделил index.html на страницы
  - Страница теперь это папка, внутри которой index.html

## [5.0.0]

### Добавлено

- Вкладка с обучением
- _ВАЖНО_: Добавлен видеоплейер id="videoPlayer". В нем можно добавить class "open", чтобы открыть, и `data-src=<video-url>`
- _ВАЖНО_: Добавлена логика открытия видеоплейера по клику на элемент. Реализуются с помощью `data-video-trigger=<video-url>` и также важно добавить `data-video-triggers-container` у контейнера, в котором находятся элементы с `data-video-trigger`.

  ```html
  <!-- аттрибут для контейнера -->
  <div
    class="learn-section__lessons"
    data-drag-scroll-content
    data-video-triggers-container
  >
    <div class="learn-section__lesson">
      <div class="learn-section__lesson-poster">
        <img
          class="learn-section__lesson-poster-img"
          src="/_layout-assets/img/transparent.png"
          alt=""
        />

        <!-- аттрибут для самого триггера -->
        <div
          class="learn-section__lesson-play"
          data-video-trigger="video/lesson.mp4"
        >
          ...
        </div>
      </div>
      <div
        class="learn-section__lesson-title"
        title="Урок №1. Что такое нейросеть"
      >
        ...
      </div>
    </div>
    ...
  </div>
  ```

### Изменено

- _ВАЖНО_: Изменена логика "tab" и "tab\_\_content". Добавил им аттрибут `data-key`, чтобы различать их не просто по порядковому номеру. Например:

  ```html
  <!-- вместо -->
  <div class="tab">...</div>
  <!-- теперь -->
  <div class="tab" data-key="balance">...</div>

  <!-- вместо -->
  <div class="tab-content">...</div>
  <!-- теперь -->
  <div class="tab-content" data-key="balance">...</div>
  ```

- _ВАЖНО_: Изменена логика "to-tab". Аттрибут `data-to-tab-index` заменен на `data-to-tab-key`. Например:

  ```html
  <!-- вместо -->
  <button class="button text to-tab" data-to-tab-index="8">Все операции</button>
  <!-- теперь -->
  <button class="button text to-tab" data-to-tab-key="operations">
    Все операции
  </button>
  ```
